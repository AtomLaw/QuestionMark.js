!window.addEventListener&&Element.prototype&&function(e){function t(){[e]}function n(e,n,r){r=!!r;var i=this;i.__eventListener=i.__eventListener||{};i.__eventListener[e]=i.__eventListener[e]||[[],[]];if(!i.__eventListener[e][0].length&&!i.__eventListener[e][1].length){i.__eventListener["on"+e]=function(n){var r=new t,s=[],o=n.srcElement||i,u;for(u in n){r[u]=n[u]}r.currentTarget=i;r.pageX=n.clientX+document.documentElement.scrollLeft;r.pageY=n.clientY+document.documentElement.scrollTop;r.target=o;r.timeStamp=+(new Date);r.nativeEvent=n;while(o){s.unshift(o);o=o.parentNode}for(var a,f=0;a=s[f];++f){if(a.__eventListener&&a.__eventListener[e]){for(var l,c=0;l=a.__eventListener[e][0][c];++c){l.call(i,r)}}}s.reverse();for(var a,f=0;(a=s[f])&&!n.cancelBubble;++f){if(a.__eventListener&&a.__eventListener[e]){for(var l,c=0;(l=a.__eventListener[e][1][c])&&!n.cancelBubble;++c){l.call(i,r)}}}n.cancelBubble=true};i.attachEvent("on"+e,i.__eventListener["on"+e])}i.__eventListener[e][r?0:1].push(n)}function r(e,t,n){n=!!n;var r=this,i;r.__eventListener=r.__eventListener||{};r.__eventListener[e]=r.__eventListener[e]||[[],[]];i=r.__eventListener[e][n?0:1];for(eventIndex=i.length-1,eventLength=-1;eventIndex>eventLength;--eventIndex){if(i[eventIndex]==t){i.splice(eventIndex,1)[0][1]}}if(!r.__eventListener[e][0].length&&!r.__eventListener[e][1].length){r.detachEvent("on"+e,r.__eventListener["on"+e])}}t.prototype.preventDefault=function(){this.nativeEvent.returnValue=false};t.prototype.stopPropagation=function(){this.nativeEvent.cancelBubble=true};window.constructor.prototype.addEventListener=document.constructor.prototype.addEventListener=Element.prototype.addEventListener=n;window.constructor.prototype.removeEventListener=document.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=r}()